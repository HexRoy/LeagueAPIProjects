GuiManager:
    HomeGui:
    ProfileGui:
    #AllChampionsGui:
    #SingleChampionGui:

# ==========================================================================================
#       Home Gui: Contains summoner lookup, region selection, and favorites
# ==========================================================================================
<HomeGui>:
    name: "home"
    summoner_name: summonerName
    region_selection: regionSelection

    # Background image
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "images/background.png"

    FloatLayout:
        size: root.width, root.height

        Image:
            pos_hint: {"top":1.4}
            source: "images/logo.png"

        # Summoner search
        Spinner:
            size_hint: .1, .07
            pos_hint: {"x":.6, "y":.6}
            id: regionSelection
            text: "Region"
            values: "NA", "BR", "EUN", "EUW", "JP", "KR", "LA1", "LA2", "OC", "TR", "RU"
        Label:
            size_hint: .4, .07
            pos_hint: {"x":.2, "y":.65}
            text: "Summoner Name"
        TextInput:
            size_hint: .4, .07
            pos_hint: {"x":.2, "y":.6}
            id: summonerName
            multiline: False
            on_text_validate:
                root.check_summoner_name()
        Button:
            size_hint: .1, .07
            pos_hint: {"x":.7, "y":.6}
            text: "Search"
            on_release:
                root.check_summoner_name()
                app.root.transition.direction = "left"

        # Todo will probably need two buttons, one for name (to be clicked and brought to profile) one for add to favs
        # Todo make one scroll view for history and one for favorites
        # Favorites Scroll view
        ScrollView:
            pos_hint: {"bottom": .2, "X": .2}
            size_hint: .4, .5
            size: (self.width, self.height)

            GridLayout:
                cols: 2
                height: self.minimum_height
                size_hint_y: None

                Button:
                    text: "favorite"
                    size_hint_y: None
                    height: root.height/8
                ToggleButton:
                    allow_stretch: False
                    background_normal: "images/blackstar.png"
                    background_down: "images/goldstar.png"
                    size_hint_y: None
                    height: root.height/8
                Button:
                    text: "name"
                    size_hint_y: None
                    height: root.height/8
                ToggleButton:
                    allow_stretch: False
                    background_normal: "images/blackstar.png"
                    background_down: "images/goldstar.png"
                    size_hint_y: None
                    height: root.height/8

        # History scroll view
        ScrollView:
            pos_hint: {"bottom": .2, "x":.6}
            size_hint: .4, .5
            size: (self.width, self.height)

            GridLayout:
                cols: 2
                height: self.minimum_height
                size_hint_y: None

                Button:
                    text: "name"
                    size_hint_y: None
                    height: 200
                ToggleButton:
                    allow_stretch: False
                    background_normal: "images/blackstar.png"
                    background_down: "images/goldstar.png"
                    size_hint_y: None
                    height: 200
                Button:
                    text: "name"
                    size_hint_y: None
                    height: 200
                ToggleButton:
                    allow_stretch: False
                    background_normal: "images/blackstar.png"
                    background_down: "images/goldstar.png"
                    size_hint_y: None
                    height: 200




<ProfileGui>:
    name: "profile"
    FloatLayout:
        Button:
            pos_hint: {"top":1}
            size_hint: 1, .15
            background_normal: "images/logo.png"
            on_release:
                app.root.current = "home"
                app.root.transition.direction = "right"


<InvalidSearchPopup>
    popup_label: popupLabel
    FloatLayout:
        size_hint:(0.3, 0.3)
        pos_hint:{"center_x":0.5, "center_y":0.5}
        Label:
            id: popupLabel
            text: ""        # Text is added based on what error is occurring: Check class for details
            pos_hint: {"x":0.2, "top":1}
            size_hint: 0.6, 0.2
        Button:
            pos_hint: {"x":-0.25, "y":-0.4}
            size_hint: 1.5, 0.8
            text: "Go Back"
            on_release:
                root.close_popup()


